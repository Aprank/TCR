# -*- coding: utf-8 -*-
#Cat_Bot

import LINETCR
from LINETCR.lib.curve.ttypes import *
from datetime import datetime
import time,random,sys,json,codecs,threading,glob,re,ast,os,subprocess,requests

cl = LINETCR.LINE()
#cl.login(qr=True)
cl.login(token='EmLXl2qfMBtttFcmvpua.apGNZMzba418M2CeQxD9/G.MxgDoVhW2Za7RZ8k0vOzBrIqrTgmBEIK8fpypHVDj4k=')
cl.loginResult()
print "Cl-Login Success\n"

ki = LINETCR.LINE()
#ki.login(qr=True)
ki.login(token='Em5WmSSb1EnnuDgnKeU6.pXN+7RvYi/ufIldOHYCunG.zlkmHzW/4l0cF5eXrh+QIZVWgc6V28DbWYr2IZjV8Jw=')
ki.loginResult()
print "Ki-Login Success\n"

kk = LINETCR.LINE()
#kk.login(qr=True)
kk.login(token='Em5WmSSb1EnnuDgnKeU6.pXN+7RvYi/ufIldOHYCunG.zlkmHzW/4l0cF5eXrh+QIZVWgc6V28DbWYr2IZjV8Jw=')
kk.loginResult()
print "Kk-Login Success\n"

kc = LINETCR.LINE()
#kc.login(qr=True)
kc.login(token='EmTfzU14RQ2Xn28r8G20.wr8xgcuZEfwwnOv8gP+n0a.yMo3gzHdBfO844j41I/DTvUjJuxVREh1WcNaIhep5gU=')
kc.loginResult()
print "Kc-Login Success\n"

kr = LINETCR.LINE()
#kr.login(qr=True)
kr.login(token='EmhQC6haTCouZKQXQo4f.UTvwOPYi0sJi3oXTG6tPRW.doOaLVexPbu2jxTEzXbvD+R3GTEzNsKNIzzogcOc16I=')
kr.loginResult()
print "Kr-Login Success\n\n=====[Sukses All Login]====="

reload(sys)
sys.setdefaultencoding('utf-8')

helpMessage ="""==== [è‡ªè¡Œè»ŠPHET HECK BOT] ====

â‚ÍœÍ¡â˜†âž£[Id]
â‚ÍœÍ¡â˜†âž£[Mid]
â‚ÍœÍ¡â˜†âž£[Me]
â‚ÍœÍ¡â˜†âž£[TLã€Œæ–‡å­—ã€
â‚ÍœÍ¡â˜†âž£[æˆ‘çš„åå­—]
â‚ÍœÍ¡â˜†âž£[ç¦®ç‰©]
â‚ÍœÍ¡â˜†âž£[ä¸­ã€Œä¸­ã€
â‚ÍœÍ¡â˜†âž£[ç¾¤çµ„ID]
â‚ÍœÍ¡â˜†âž£[ç¾¤çµ„å–æ¶ˆ]
â‚ÍœÍ¡â˜†âž£[ç›¸å†Šã€ŒIDã€]
â‚ÍœÍ¡â˜†âž£[Hapusç›¸å†Šã€ŒIDã€
â‚ÍœÍ¡â˜†âž£[è¯ç¹«äºº]
â‚ÍœÍ¡â˜†âž£[è¯ç¹«æˆ‘å€‘]
â‚ÍœÍ¡â˜†âž£[è‡ªå‹•åŠ å…¥]
â‚ÍœÍ¡â˜†âž£[è‡ªå‹•é—œé–‰]
â‚ÍœÍ¡â˜†âž£[ç¾¤çµ„å–æ¶ˆ]
â‚ÍœÍ¡â˜†âž£[è‡ªå‹•é›¢é–‹]
â‚ÍœÍ¡â˜†âž£[è‡ªå‹•é›¢é–‹]
â‚ÍœÍ¡â˜†âž£[è‡ªå‹•æ·»åŠ /é—œé–‰]
â‚ÍœÍ¡â˜†âž£[Bc ginfo]]
â‚ÍœÍ¡â˜†âž£[å¡ä½]
â‚ÍœÍ¡â˜†âž£[é˜»æ­¢]
â‚ÍœÍ¡â˜†âž£[æžœé†¬èªª]
â‚ÍœÍ¡â˜†âž£[å…¨éƒ¨Bot Me]
â‚ÍœÍ¡â˜†âž£[ç¦æ­¢ï¼šé–‹]
â‚ÍœÍ¡â˜†âž£[è§£é™¤ï¼šé–‹]
â‚ÍœÍ¡â˜†âž£[Banlist]
â‚ÍœÍ¡â˜†âž£[Com on]
â‚ÍœÍ¡â˜†âž£[Com set]
â‚ÍœÍ¡â˜†âž£[Mcheck]
â‚ÍœÍ¡â˜†âž£[ç•™è¨€ç¢ºèª]
â‚ÍœÍ¡â˜†âž£[Mybioï¼šã€ŒIsi Bioã€]
â‚ÍœÍ¡â˜†âž£[Allbioï¼šã€ŒIsi Bio botã€]
â‚ÍœÍ¡â˜†âž£[éˆæŽ¥]
â‚ÍœÍ¡â˜†âž£[éˆæŽ¥é—œé–‰]
â‚ÍœÍ¡â˜†âž£[é‚€è«‹ã€Œä¸­ã€]
â‚ÍœÍ¡â˜†âž£[Kmidï¼šè¸¢ä¸­]
â‚ÍœÍ¡â˜†âž£[Ginfo]
â‚ÍœÍ¡â˜†âž£[å–æ¶ˆ]
â‚ÍœÍ¡â˜†âž£[å‚™ä»½]
â‚ÍœÍ¡â˜†âž£[Gnã€ŒNama grupã€
â‚ÍœÍ¡â˜†âž£[Gurl]
â‚ÍœÍ¡â˜†âž£[gurlã€Œkelompok ID
â‚ÍœÍ¡â˜†âž£[Phet Tag All]
â‚ÍœÍ¡â˜†âž£[NKï¼š]
â‚ÍœÍ¡â˜†âž£[PK @]
â‚ÍœÍ¡â˜†âž£[PKKã€Œç´ç±³]
â‚ÍœÍ¡â˜†âž£[Hack @] = [é»‘å®¢]
â‚ÍœÍ¡â˜†âž£[ç¦ä»¤ï¼š]
â‚ÍœÍ¡â˜†âž£[è§£é™¤]ï¼š
â‚ÍœÍ¡â˜†âž£[ä¿è­·]
â‚ÍœÍ¡â˜†âž£[qrprotecté–‹/é—œ]
â‚ÍœÍ¡â˜†âž£[Inviteprotect]
â‚ÍœÍ¡â˜†âž£[å–æ¶ˆä¿è­·]
â‚ÍœÍ¡â˜†âž£[Speed Sp / Bot Sp]
â‚ÍœÍ¡â˜†âž£[KK @]
â‚ÍœÍ¡â˜†âž£[Bot Me]
â‚ÍœÍ¡â˜†âž£[Me5 / Me10 / Me20]
â‚ÍœÍ¡â˜†âž£[Pb all]
â‚ÍœÍ¡â˜†âž£[Pbéµ]
â‚ÍœÍ¡â˜†âž£[Pb1-30 in]
â‚ÍœÍ¡â˜†âž£[Pb1-30 bye]
â‚ÍœÍ¡â˜†âž£[å›žæ‡‰]
â‚ÍœÍ¡â˜†âž£[Bye]
â‚ÍœÍ¡â˜†âž£[Bye bot]
â‚ÍœÍ¡â˜†âž£[Go go] [ï¼ƒPhet10]]
â‚ÍœÍ¡â˜†âž£[KK1-KK3 / KKK / PPK]
"""

KAC=[cl,ki,kk,kc]
mid = cl.getProfile().mid
Amid = ki.getProfile().mid
Bmid = kk.getProfile().mid
Cmid = kc.getProfile().mid
Bots=[mid,Amid,Bmid,Cmid]
Creator="u00f827ce6641038d7c9b6704a9777dfa"
admin=["u00f827ce6641038d7c9b6704a9777dfa","u3f19ffeeb57223e50588b0e887271436","u3f19ffeeb57223e50588b0e887271436","ubad556a29c88d128c8dcec6d83a4e9af"]

wait = {
    "LeaveRoom":True,
    "AutoJoin":False,
    "Members":1,
    "AutoCancel":False,
    "AutoKick":False,
    "blacklist":{},
    "wblacklist":False,
    "dblacklist":False,
    "Qr":False,
    "Timeline":True,
    "Contact":False,
    "lang":"JP",
    "BlGroup":{}
}

def restart_program():
    python = sys.executable
    os.execl(python, python, * sys.argv)


def sendMessage(to, text, contentMetadata={}, contentType=0):
    mes = Message()
    mes.to, mes.from_ = to, profile.mid
    mes.text = text
    mes.contentType, mes.contentMetadata = contentType, contentMetadata
    if to not in messageReq:
        messageReq[to] = -1
    messageReq[to] += 1


def bot(op):
    try:
#--------------------END_OF_OPERATION--------------------
        if op.type == 0:
            return
#-------------------NOTIFIED_READ_MESSAGE----------------
        if op.type == 55:
	    try:
	      group_id = op.param1
	      user_id=op.param2
	      subprocess.Popen('echo "'+ user_id+'|'+str(op.createdTime)+'" >> dataSeen/%s.txt' % group_id, shell=True, stdout=subprocess.PIPE, )
	    except Exception as e:
	      print e
#------------------NOTIFIED_INVITE_INTO_ROOM-------------
        if op.type == 22:
            cl.leaveRoom(op.param1)
#--------------------INVITE_INTO_ROOM--------------------
        if op.type == 21:
            cl.leaveRoom(op.param1)

#--------------NOTIFIED_INVITE_INTO_GROUP----------------
        if op.type == 13:
	    print op.param3
            if op.param3 in mid:
		if op.param2 in Creator:
		    cl.acceptGroupInvitation(op.param1)
            if op.param3 in Amid:
		if op.param2 in Creator:
		    ki.acceptGroupInvitation(op.param1)
            if op.param3 in Bmid:
		if op.param2 in Creator:
		    kk.acceptGroupInvitation(op.param1)
            if op.param3 in Cmid:
		if op.param2 in Creator:
		    kc.acceptGroupInvitation(op.param1)
#--------------------------------------------------------
            if op.param3 in mid:
		if op.param2 in Amid:
		    cl.acceptGroupInvitation(op.param1)
            if op.param3 in mid:
		if op.param2 in Bmid:
		    cl.acceptGroupInvitation(op.param1)
            if op.param3 in mid:
		if op.param2 in Cmid:
		    cl.acceptGroupInvitation(op.param1)
#--------------------------------------------------------
            if op.param3 in Amid:
		if op.param2 in mid:
		    ki.acceptGroupInvitation(op.param1)
            if op.param3 in Amid:
		if op.param2 in Bmid:
		    ki.acceptGroupInvitation(op.param1)
            if op.param3 in Amid:
		if op.param2 in Cmid:
		    ki.acceptGroupInvitation(op.param1)
#--------------------------------------------------------
            if op.param3 in Bmid:
		if op.param2 in mid:
		    kk.acceptGroupInvitation(op.param1)
            if op.param3 in Bmid:
		if op.param2 in Amid:
		    kk.acceptGroupInvitation(op.param1)
            if op.param3 in Bmid:
		if op.param2 in Cmid:
		    kk.acceptGroupInvitation(op.param1)
#--------------------------------------------------------
            if op.param3 in Cmid:
		if op.param2 in mid:
		    kc.acceptGroupInvitation(op.param1)
            if op.param3 in Cmid:
		if op.param2 in Amid:
		    kc.acceptGroupInvitation(op.param1)
            if op.param3 in Cmid:
		if op.param2 in Bmid:
		    kc.acceptGroupInvitation(op.param1)
#--------------------------------------------------------
	    if mid in op.param3:
                if wait["AutoJoin"] == True:
		    G = cl.getGroup(op.param1)
                    if len(G.members) <= wait["Members"]:
                        cl.rejectGroupInvitation(op.param1)
		    else:
                        cl.acceptGroupInvitation(op.param1)
			G = cl.getGroup(op.param1)
			G.preventJoinByTicket = False
			cl.updateGroup(G)
			Ti = cl.reissueGroupTicket(op.param1)
			ki.acceptGroupInvitationByTicket(op.param1,Ti)
			kk.acceptGroupInvitationByTicket(op.param1,Ti)
			kc.acceptGroupInvitationByTicket(op.param1,Ti)
			G.preventJoinByTicket = True
			cl.updateGroup(G)
			cl.sendText(op.param1,"Ketik 'Help' untuk bantuan\n\nHarap gunakan dengan bijak!")
                else:
		    if op.param2 in admin:
                        cl.acceptGroupInvitation(op.param1)
			G = cl.getGroup(op.param1)
			G.preventJoinByTicket = False
			cl.updateGroup(G)
			Ti = cl.reissueGroupTicket(op.param1)
			ki.acceptGroupInvitationByTicket(op.param1,Ti)
			kk.acceptGroupInvitationByTicket(op.param1,Ti)
			kc.acceptGroupInvitationByTicket(op.param1,Ti)
			G.preventJoinByTicket = True
			cl.updateGroup(G)
			cl.sendText(op.param1,"Ketik 'Help' untuk bantuan\n\nHarap gunakan dengan bijak!")
		    else:
                        cl.rejectGroupInvitation(op.param1)
	    else:
                if wait["AutoCancel"] == True:
		    if op.param3 in Bots:
			pass
		    else:
                        cl.cancelGroupInvitation(op.param1, [op.param3])
		else:
		    if op.param3 in wait["blacklist"]:
			cl.cancelGroupInvitation(op.param1, [op.param3])
			cl.sendText(op.param1, "Blacklist Detected")
		    else:
			pass
#------------------NOTIFIED_KICKOUT_FROM_GROUP-----------------
        if op.type == 19:
		if wait["AutoKick"] == True:
		    try:
			if op.param3 in Bots:
			    pass
		        if op.param2 in Bots:
			    pass
		        else:
		            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        if op.param2 in wait["blacklist"]:
                            pass
		        else:
			    kk.inviteIntoGroup(op.param1,[op.param3])
		    except:
		        try:
			    if op.param2 not in Bots:
                                random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
			    if op.param2 in wait["blacklist"]:
			        pass
			    else:
			        random.choice(KAC).inviteIntoGroup(op.param1,[op.param3])
		        except:
			    print ("client Kick regulation or Because it does not exist in the group\ngid=["+op.param1+"]\nmid=["+op.param2+"]")
                        if op.param2 in wait["blacklist"]:
                            pass
                        else:
			    if op.param2 in Bots:
			        pass
			    else:
                                wait["blacklist"][op.param2] = True
		    if op.param2 in wait["blacklist"]:
                        pass
                    else:
		        if op.param2 in Bots:
			    pass
		        else:
                            wait["blacklist"][op.param2] = True
		else:
		    pass
		
#-----------------------------------------------------------------
                if mid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        ki.kickoutFromGroup(op.param1,[op.param2])
			kk.kickoutFromGroup(op.param1,[op.param2])
                    except:
                        try:
			    random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("client Kick regulation or Because it does not exist in the group\ngid=["+op.param1+"]\nmid=["+op.param2+"]")
                        if op.param2 in wait["blacklist"]:
                            pass
                        else:
			    if op.param2 in Bots:
			        pass
			    else:
                                wait["blacklist"][op.param2] = True
                    G = ki.getGroup(op.param1)
                    G.preventJoinByTicket = False
                    ki.updateGroup(G)
                    Ti = ki.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    kc.acceptGroupInvitationByTicket(op.param1,Ti)
                    X = cl.getGroup(op.param1)
                    X.preventJoinByTicket = True
                    cl.updateGroup(X)
                    if op.param2 in wait["blacklist"]:
                        pass
                    else:
		        if op.param2 in Bots:
			    pass
		        else:
                            wait["blacklist"][op.param2] = True

                if Amid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        kk.kickoutFromGroup(op.param1,[op.param2])
                        kc.kickoutFromGroup(op.param1,[op.param2])
                    except:
                        try:
                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("client Kick regulation or Because it does not exist in the group\ngid=["+op.param1+"]\nmid=["+op.param2+"]")
                        if op.param2 in wait["blacklist"]:
                            pass
                        else:
			    if op.param2 in Bots:
			        pass
			    else:
                                wait["blacklist"][op.param2] = True

                    X = kk.getGroup(op.param1)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    Ti = kk.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    G = ki.getGroup(op.param1)
                    G.preventJoinByTicket = True
                    ki.updateGroup(G)
                    if op.param2 in wait["blacklist"]:
                        pass
                    else:
		        if op.param2 in Bots:
			    pass
		        else:
                            wait["blacklist"][op.param2] = True

                if Bmid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        kc.kickoutFromGroup(op.param1,[op.param2])
                        kk.kickoutFromGroup(op.param1,[op.param2])
                    except:
                        try:
                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("client Kick regulation or Because it does not exist in the group\ngid=["+op.param1+"]\nmid=["+op.param2+"]")
                        if op.param2 in wait["blacklist"]:
                            pass
                        else:
			    if op.param2 in Bots:
			        pass
			    else:
                                wait["blacklist"][op.param2] = True

                    X = kc.getGroup(op.param1)
                    X.preventJoinByTicket = False
                    kc.updateGroup(X)
                    Ti = kc.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    kc.acceptGroupInvitationByTicket(op.param1,Ti)
                    G = kk.getGroup(op.param1)
                    G.preventJoinByTicket = True
                    kk.updateGroup(G)
                    if op.param2 in wait["blacklist"]:
                        pass
                    else:
		        if op.param2 in Bots:
			    pass
		        else:
                            wait["blacklist"][op.param2] = True

                if Cmid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        cl.kickoutFromGroup(op.param1,[op.param2])
                        kk.kickoutFromGroup(op.param1,[op.param2])
                    except:
                        try:
                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("client Kick regulation or Because it does not exist in the group\ngid=["+op.param1+"]\nmid=["+op.param2+"]")
                        if op.param2 in wait["blacklist"]:
                            pass
                        else:
			    if op.param2 in Bots:
			        pass
			    else:
                                wait["blacklist"][op.param2] = True

                    X = cl.getGroup(op.param1)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    Ti = cl.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    kc.acceptGroupInvitationByTicket(op.param1,Ti)
                    G = kc.getGroup(op.param1)
                    G.preventJoinByTicket = True
                    kc.updateGroup(G)
                    if op.param2 in wait["blacklist"]:
                        pass
                    else:
		        if op.param2 in Bots:
			    pass
		        else:
                            wait["blacklist"][op.param2] = True
#--------------------------------------------------------
                if Creator in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        ki.kickoutFromGroup(op.param1,[op.param2])
			kk.kickoutFromGroup(op.param1,[op.param2])
                    except:
                        try:
			    if op.param2 not in Bots:
                                random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
			    if op.param2 in wait["blacklist"]:
			        pass
			    else:
			        random.choice(KAC).inviteIntoGroup(op.param1,[op.param3])
                        except:
                            print ("client Kick regulation or Because it does not exist in the group\ngid=["+op.param1+"]\nmid=["+op.param2+"]")
                        if op.param2 in wait["blacklist"]:
                            pass
                        if op.param2 in wait["whitelist"]:
                            pass
                        else:
                            wait["blacklist"][op.param2] = True
                    random.choice(KAC).inviteIntoGroup(op.param1,[op.param3])
                    if op.param2 in wait["blacklist"]:
                        pass
                    if op.param2 in wait["whitelist"]:
                        pass
                    else:
                        wait["blacklist"][op.param2] = True

#--------------------------NOTIFIED_UPDATE_GROUP---------------------
        if op.type == 11:
            if wait["Qr"] == True:
		if op.param2 in Bots:
		    pass
		else:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    Ti = cl.reissueGroupTicket(msg.to)
                    kr.acceptGroupInvitationByTicket(msg.to,Ti) #kicker join
                    X.preventJoinByTicket = True
                    kk.updateGroup(X)
                    kr.kickoutFromGroup(msg.to,[op.param2])
                    kr.leaveGroup(msg.to)
            else:
                pass
#--------------------------RECEIVE_MESSAGE---------------------------
        if op.type == 25:
            msg = op.message
#----------------------------------------------------------------------------
            if msg.contentType == 13:
                if wait["wblacklist"] == True:
		    if msg.contentMetadata["mid"] not in admin:
                        if msg.contentMetadata["mid"] in wait["blacklist"]:
                            ki.sendText(msg.to,"already")
                            kk.sendText(msg.to,"already")
                            kc.sendText(msg.to,"already")
                            wait["wblacklist"] = False
                        else:
                            wait["blacklist"][msg.contentMetadata["mid"]] = True
                            wait["wblacklist"] = False
                            ki.sendText(msg.to,"aded")
                            kk.sendText(msg.to,"aded")
                            kc.sendText(msg.to,"aded")
		    else:
			cl.sendText(msg.to,"Admin Detected~")
			

                elif wait["dblacklist"] == True:
                    if msg.contentMetadata["mid"] in wait["blacklist"]:
                        del wait["blacklist"][msg.contentMetadata["mid"]]
                        ki.sendText(msg.to,"deleted")
                        kk.sendText(msg.to,"deleted")
                        kc.sendText(msg.to,"deleted")
                        wait["dblacklist"] = False

                    else:
                        wait["dblacklist"] = False
                        ki.sendText(msg.to,"It is not in the black list")
                        kk.sendText(msg.to,"It is not in the black list")
                        kc.sendText(msg.to,"It is not in the black list")
#--------------------------------------------------------
                elif wait["Contact"] == True:
                     msg.contentType = 0
                     cl.sendText(msg.to,msg.contentMetadata["mid"])
                     if 'displayName' in msg.contentMetadata:
                         contact = cl.getContact(msg.contentMetadata["mid"])
                         try:
                             cu = cl.channel.getCover(msg.contentMetadata["mid"])
                         except:
                             cu = ""
                         cl.sendText(msg.to,"[displayName]:\n" + msg.contentMetadata["displayName"] + "\n[mid]:\n" + msg.contentMetadata["mid"] + "\n[statusMessage]:\n" + contact.statusMessage + "\n[pictureStatus]:\nhttp://dl.profile.line-cdn.net/" + contact.pictureStatus + "\n[coverURL]:\n" + str(cu))
                     else:
                         contact = cl.getContact(msg.contentMetadata["mid"])
                         try:
                             cu = cl.channel.getCover(msg.contentMetadata["mid"])
                         except:
                             cu = ""
                         cl.sendText(msg.to,"[displayName]:\n" + contact.displayName + "\n[mid]:\n" + msg.contentMetadata["mid"] + "\n[statusMessage]:\n" + contact.statusMessage + "\n[pictureStatus]:\nhttp://dl.profile.line-cdn.net/" + contact.pictureStatus + "\n[coverURL]:\n" + str(cu))


#--------------------------------------------------------
            elif msg.text == "Ginfo":
                if msg.toType == 2:
                    ginfo = cl.getGroup(msg.to)
                    try:
                        gCreator = ginfo.creator.displayName
                    except:
                        gCreator = "Error"
                    if wait["lang"] == "JP":
                        if ginfo.invitee is None:
                            sinvitee = "0"
                        else:
                            sinvitee = str(len(ginfo.invitee))
                        if ginfo.preventJoinByTicket == True:
                            u = "close"
                        else:
                            u = "open"
                        cl.sendText(msg.to,"[Group name]\n" + str(ginfo.name) + "\n\n[Gid]\n" + msg.to + "\n\n[Group creator]\n" + gCreator + "\n\n[Profile status]\nhttp://dl.profile.line.naver.jp/" + ginfo.pictureStatus + "\n\nMembers:" + str(len(ginfo.members)) + "members\nPending:" + sinvitee + "people\nURL:" + u + "it is inside")
                    else:
                        cl.sendText(msg.to,"[group name]\n" + str(ginfo.name) + "\n[gid]\n" + msg.to + "\n[group creator]\n" + gCreator + "\n[profile status]\nhttp://dl.profile.line.naver.jp/" + ginfo.pictureStatus)
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Can not be used outside the group")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")

#--------------------------------------------------------

        if op.type == 17:
            group = cl.getGroup(op.param1)
            cb = Message()
            cb.to = op.param1
            cb.text = cl.getContact(op.param2).displayName + "à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸šðŸ˜\nà¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸„à¸£à¸±à¸šðŸ˜\n\n[By.à¹€à¸žà¸Šà¸£ à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—]"
            cl.sendMessage(cb)

            elif msg.text is None:
                return


#--------------------------------------------------------
            elif msg.text in ["Me"]:
                msg.contentType = 13
                msg.contentMetadata = {'mid': Creator}
                cl.sendMessage(msg)
#		cl.sendText(msg.to,"Itu Yang Bikin BOT")
#--------------------------------------------------------
	    elif msg.text in ["Group creator","Gcreator","Wc"]:
		ginfo = cl.getGroup(msg.to)
		gCreator = ginfo.creator.mid
                msg.contentType = 13
                msg.contentMetadata = {'mid': gCreator}
                cl.sendMessage(msg)
		cl.sendText(msg.to,"Itu Yang Buat Grup Ini")
#--------------------------------------------------------
            elif msg.contentType == 16:
                if wait["Timeline"] == True:
                    msg.contentType = 0
                    msg.text = "post URL\n" + msg.contentMetadata["postEndUrl"]
                    cl.sendText(msg.to,msg.text)
#--------------------------------------------------------
            elif msg.text in ["Key","help","Help"]:
                cl.sendText(msg.to,helpMessage)
#--------------------------------------------------------
            elif msg.text in ["List group"]:
		if msg.from_ in admin:
                    gid = cl.getGroupIdsJoined()
                    h = ""
		    jml = 0
                    for i in gid:
		        gn = cl.getGroup(i).name
                        h += "â™¦ã€%sã€‘\n" % (gn)
		        jml += 1
                    cl.sendText(msg.to,"======[List Group]======\n"+ h +"Total group: "+str(jml))
		else:
		    cl.sendText(msg.to,"Khusus Admin")
#--------------------------------------------------------
	    elif "Ban group: " in msg.text:
		grp = msg.text.replace("Ban group: ","")
		gid = cl.getGroupIdsJoined()
		if msg.from_ in Creator:
		    for i in gid:
		        h = cl.getGroup(i).name
			if h == grp:
			    wait["BlGroup"][i]=True
			    cl.sendText(msg.to, "Success Ban Group : "+grp)
			else:
			    pass
		else:
		    cl.sendText(msg.to, "Khusus Creator")
#--------------------------------------------------------
            elif msg.text in ["List ban","List ban group"]:
		if msg.from_ in admin:
                    if wait["BlGroup"] == {}:
                        ki.sendText(msg.to,"nothing")
                        kk.sendText(msg.to,"nothing")
                        kc.sendText(msg.to,"nothing")
                    else:
                        mc = ""
                        for gid in wait["BlGroup"]:
                            mc += "-> " +cl.getGroup(gid).name + "\n"
                        ki.sendText(msg.to,"===[Ban Group]===\n"+mc)
		else:
		    cl.sendText(msg.to, "Khusus Admin")
#--------------------------------------------------------
	    elif msg.text in ["Del ban: "]:
		if msg.from_ in admin:
		    ng = msg.text.replace("Del ban: ","")
		    for gid in wait["BlGroup"]:
		        if cl.getGroup(gid).name == ng:
			    del wait["BlGroup"][gid]
			    cl.sendText(msg.to, "Success del ban "+ng)
		        else:
			    pass
		else:
		    cl.sendText(msg.to, "Khusus Admin")
#--------------------------------------------------------
            elif "Join group: " in msg.text:
		ng = msg.text.replace("Join group: ","")
		gid = cl.getGroupIdsJoined()
		try:
		    if msg.from_ in Creator:
                        for i in gid:
                            h = cl.getGroup(i).name
		            if h == ng:
		                cl.inviteIntoGroup(i,[Creator])
			        cl.sendText(msg.to,"Success join to ["+ h +"] group")
			    else:
			        pass
		    else:
		        cl.sendText(msg.to,"Khusus Creator")
		except Exception as e:
		    cl.sendMessage(msg.to, str(e))
#--------------------------------------------------------
	    elif "Leave group: " in msg.text:
		ng = msg.text.replace("Leave group: ","")
		gid = cl.getGroupIdsJoined()
		if msg.from_ in Creator:
                    for i in gid:
                        h = cl.getGroup(i).name
		        if h == ng:
			    cl.sendText(i,"Bot di paksa keluar oleh owner!")
		            cl.leaveGroup(i)
			    ki.leaveGroup(i)
			    kk.leaveGroup(i)
			    kc.leaveGroup(i)
			    cl.sendText(msg.to,"Success left ["+ h +"] group")
			else:
			    pass
		else:
		    cl.sendText(msg.to,"Khusus Creator")
#--------------------------------------------------------
	    elif "Leave all group" == msg.text:
		gid = cl.getGroupIdsJoined()
                if msg.from_ in Creator:
		    for i in gid:
			cl.sendText(i,"Bot di paksa keluar oleh owner!")
		        cl.leaveGroup(i)
			ki.leaveGroup(i)
			kk.leaveGroup(i)
			kc.leaveGroup(i)
		    cl.sendText(msg.to,"Success leave all group")
		else:
		    cl.sendText(msg.to,"Khusus Creator")
#--------------------------------------------------------
            elif msg.text in ["cancel","Cancel","à¸¢à¸à¹€à¸¥à¸´à¸"]:
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    if X.invitee is not None:
                        gInviMids = [contact.mid for contact in X.invitee]
                        cl.cancelGroupInvitation(msg.to, gInviMids)
                    else:
                        cl.sendText(msg.to,"No one is inviting")
                else:
                    Cl.sendText(msg.to,"Can not be used outside the group")
#--------------------------------------------------------
            elif msg.text in ["Link on","Url:on"]:
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    cl.sendText(msg.to,"Url Active")
                else:
                    cl.sendText(msg.to,"Can not be used outside the group")
#--------------------------------------------------------
            elif msg.text in ["Link off","Url:off"]:
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = True
                    cl.updateGroup(X)
                    cl.sendText(msg.to,"Url inActive")

                else:
                    cl.sendText(msg.to,"Can not be used outside the group")
#--------------------------------------------------------
            elif msg.text in ["Join on","Autojoin:on"]:
		if msg.from_ in admin:
                    wait["AutoJoin"] = True
                    cl.sendText(msg.to,"AutoJoin Active")
		else:
		    cl.sendText(msg.to,"Khusus Admin")

            elif msg.text in ["Join off","Autojoin:off"]:
		if msg.from_ in admin:
                    wait["AutoJoin"] = False
                    cl.sendText(msg.to,"AutoJoin inActive")
		else:
		    cl.sendText(msg.to,"Khusus Admin")
#--------------------------------------------------------
	    elif msg.text in ["Autocancel:on","Cancel on"]:
                wait["AutoCancel"] = True
                cl.sendText(msg.to,"The group of people and below decided to automatically refuse invitation")
		print wait["AutoCancel"][msg.to]

	    elif msg.text in ["Autocancel:off","Cancel off"]:
                wait["AutoCancel"] = False
                cl.sendText(msg.to,"Invitation refused turned off")
		print wait["AutoCancel"][msg.to]
#--------------------------------------------------------
	    elif "Qr:on" in msg.text:
	        wait["Qr"] = True
	    	cl.sendText(msg.to,"QR Protect Active")

	    elif "Qr:off" in msg.text:
	    	wait["Qr"] = False
	    	cl.sendText(msg.to,"Qr Protect inActive")
#--------------------------------------------------------
	    elif "Autokick:on" in msg.text:
		wait["AutoKick"] = True
		cl.sendText(msg.to,"AutoKick Active")

	    elif "Autokick:off" in msg.text:
		wait["AutoKick"] = False
		cl.sendText(msg.to,"AutoKick inActive")
#--------------------------------------------------------
            elif msg.text in ["K on","Contact:on"]:
                wait["Contact"] = True
                cl.sendText(msg.to,"Contact Active")

            elif msg.text in ["K off","Contact:off"]:
                wait["Contact"] = False
                cl.sendText(msg.to,"Contact inActive")
#--------------------------------------------------------
            elif msg.text in ["Sett","Set"]:
                md = ""
		if wait["AutoJoin"] == True: md+="âœ¦ Auto join : on\n"
                else: md +="âœ¦ Auto join : off\n"
		if wait["Contact"] == True: md+="âœ¦ Info Contact : on\n"
		else: md+="âœ¦ Info Contact : off\n"
                if wait["AutoCancel"] == True:md+="âœ¦ Auto cancel : on\n"
                else: md+= "âœ¦ Auto cancel : off\n"
		if wait["Qr"] == True: md+="âœ¦ Qr Protect : on\n"
		else:md+="âœ¦ Qr Protect : off\n"
		if wait["AutoKick"] == True: md+="âœ¦ Autokick : on\n"
		else:md+="âœ¦ Autokick : off"
                cl.sendText(msg.to,"=====[Status]=====\n"+md)
#--------------------------------------------------------
            elif msg.text in ["Gift","gift"]:
                msg.contentType = 9
                msg.contentMetadata={'PRDID': 'a0768339-c2d3-4189-9653-2909e9bb6f58',
                                    'PRDTYPE': 'THEME',
                                    'MSGTPL': '5'}
                msg.text = None
                cl.sendMessage(msg)

            elif msg.text in ["All gift"]:
                msg.contentType = 9
                msg.contentMetadata={'PRDID': 'a0768339-c2d3-4189-9653-2909e9bb6f58',
                                    'PRDTYPE': 'THEME',
                                    'MSGTPL': '5'}
                msg.text = None
                ki.sendMessage(msg)
                kk.sendMessage(msg)
                kc.sendMessage(msg)

            elif msg.text in ["Cb1 Gift","Cb1 gift"]:
                msg.contentType = 9
                msg.contentMetadata={'PRDID': '696d7046-843b-4ed0-8aac-3113ed6c0733',
                                    'PRDTYPE': 'THEME',
                                    'MSGTPL': '6'}
                msg.text = None
                ki.sendMessage(msg)

            elif msg.text in ["Cb2 Gift","Cb2 gift"]:
                msg.contentType = 9
                msg.contentMetadata={'PRDID': '8fe8cdab-96f3-4f84-95f1-6d731f0e273e',
                                    'PRDTYPE': 'THEME',
                                    'MSGTPL': '7'}
                msg.text = None
                kk.sendMessage(msg)

            elif msg.text in ["Cb3 Gift","Cb3 gift"]:
                msg.contentType = 9
                msg.contentMetadata={'PRDID': 'ae3d9165-fab2-4e70-859b-c14a9d4137c4',
                                    'PRDTYPE': 'THEME',
                                    'MSGTPL': '8'}
                msg.text = None
                kc.sendMessage(msg)
            elif "Phet@@" in msg.text:
                group = cl.getGroup(msg.to)
                k = len(group.members)//100
                for j in xrange(k+1):
                    msg = Message(to=msg.to)
                    txt = u''
                    s=0
                    d=[]
                    for i in group.members[j*100 : (j+1)*100]:
                        d.append({"S":str(s), "E" :str(s+8), "M":i.mid})
                        s += 9
                        txt += u'@Krampus\n'
                    msg.text = txt
                    msg.contentMetadata = {u'MENTION':json.dumps({"MENTIONEES":d})}
                    cl.sendMessage(msg)

            elif "Bot@@" in msg.text:
                group = cl.getGroup(msg.to)
                k = len(group.members)//100
                for j in xrange(k+1):
                    msg = Message(to=msg.to)
                    txt = u''
                    s=0
                    d=[]
                    for i in group.members[j*100 : (j+1)*100]:
                        d.append({"S":str(s), "E" :str(s+8), "M":i.mid})
                        s += 9
                        txt += u'@Krampus\n'
                    msg.text = txt
                    msg.contentMetadata = {u'MENTION':json.dumps({"MENTIONEES":d})}
                    ki.sendMessage(msg)
                    kk.sendMessage(msg)
                    kc.sendMessage(msg)
            elif ("Hack " in msg.text):
                   key = eval(msg.contentMetadata["MENTION"])
                   key1 = key["MENTIONEES"][0]["M"]
                   mi = cl.getContact(key1)
                   cl.sendText(msg.to,"Mid:" +  key1)
            elif "Mid @" in msg.text:
              if msg.from_ in admin:
                _name = msg.text.replace("Mid @","")
                _nametarget = _name.rstrip(' ')
                gs = cl.getGroup(msg.to)
                for g in gs.members:
                    if _nametarget == g.displayName:
                        cl.sendText(msg.to, g.mid)
                    else:
                        pass

#--------------------------------------------------------
	    elif "xcvbdjhdhfhhhdssfgf" == msg.text:
		if msg.from_ in Creator:
		    group = cl.getGroup(msg.to)
		    mem = [contact.mid for contact in group.members]
		    for mm in mem:
		        xname = cl.getContact(mm).displayName
		        xlen = str(len(xname)+1)
		        msg.contentType = 0
		        msg.text = "@"+xname+" "
		        msg.contentMetadata = {'MENTION':'{"MENTIONEES":[{"S":"0","E":'+json.dumps(xlen)+',"M":'+json.dumps(mm)+'}]}','EMTVER':'4'}
		        try:
		            cl.sendMessage(msg)
		        except Exception as e:
			    print str(e)
		else:
		    cl.sendText(msg.to, "Tag manual bos jgn males!")

#--------------------------CEK SIDER------------------------------

            elif "à¸•à¸±à¹‰à¸‡à¹€à¸§à¸¥à¸²" in msg.text:
                subprocess.Popen("echo '' > dataSeen/"+msg.to+".txt", shell=True, stdout=subprocess.PIPE)
                cl.sendText(msg.to, "à¸à¸£à¸¸à¸“à¸²à¸žà¸´à¸¡à¸žà¹Œ à¸­à¹ˆà¸²à¸™")
                print "@setview"

            elif "à¸­à¹ˆà¸²à¸™" in msg.text:
	        lurkGroup = ""
	        dataResult, timeSeen, contacts, userList, timelist, recheckData = [], [], [], [], [], []
                with open('dataSeen/'+msg.to+'.txt','r') as rr:
                    contactArr = rr.readlines()
                    for v in xrange(len(contactArr) -1,0,-1):
                        num = re.sub(r'\n', "", contactArr[v])
                        contacts.append(num)
                        pass
                    contacts = list(set(contacts))
                    for z in range(len(contacts)):
                        arg = contacts[z].split('|')
                        userList.append(arg[0])
                        timelist.append(arg[1])
                    uL = list(set(userList))
                    for ll in range(len(uL)):
                        try:
                            getIndexUser = userList.index(uL[ll])
                            timeSeen.append(time.strftime("%H:%M:%S", time.localtime(int(timelist[getIndexUser]) / 1000)))
                            recheckData.append(userList[getIndexUser])
                        except IndexError:
                            conName.append('nones')
                            pass
                    contactId = cl.getContacts(recheckData)
                    for v in range(len(recheckData)):
                        dataResult.append(contactId[v].displayName + ' ('+timeSeen[v]+')')
                        pass
                    if len(dataResult) > 0:
                        tukang = "List Viewer\n*"
                        grp = '\n* '.join(str(f) for f in dataResult)
                        total = '\n\nTotal %i viewers (%s)' % (len(dataResult), datetime.now().strftime('%H:%M:%S') )
                        cl.sendText(msg.to, "%s %s %s" % (tukang, grp, total))
                    else:
                        cl.sendText(msg.to, "Belum ada viewers")
                    print "@viewseen"
#--------------------------------------------------------

#KICK_BY_TAG
	    elif "Hi " in msg.text:
		if msg.from_ in Creator:
		    if 'MENTION' in msg.contentMetadata.keys()!= None:
		        names = re.findall(r'@(\w+)', msg.text)
		        mention = ast.literal_eval(msg.contentMetadata['MENTION'])
		        mentionees = mention['MENTIONEES']
		        print mentionees
		        for mention in mentionees:
			    ki.kickoutFromGroup(msg.to,[mention['M']])
		else:
		    cl.sendText(msg.to, "Khusus Creator")
#--------------------------------------------------------
	    elif "Set member: " in msg.text:
		if msg.from_ in admin:
		    jml = msg.text.replace("Set member: ","")
		    wait["Members"] = int(jml)
		    cl.sendText(msg.to, "Jumlah minimal member telah di set : "+jml)
		else:
		    cl.sendText(msg.to, "Khusus Admin")
#--------------------------------------------------------
	    elif "Add all" in msg.text:
		if msg.from_ in admin:
		    thisgroup = cl.getGroups([msg.to])
		    Mids = [contact.mid for contact in thisgroup[0].members]
		    mi_d = Mids[:33]
		    cl.findAndAddContactsByMids(mi_d)
		    cl.sendText(msg.to,"Success Add all")
		else:
		    cl.sendText(msg.to, "Khusus Admin")
#--------------------------------------------------------
	    elif "Recover" in msg.text:
		thisgroup = cl.getGroups([msg.to])
		Mids = [contact.mid for contact in thisgroup[0].members]
		mi_d = Mids[:33]
		cl.createGroup("Recover", mi_d)
		cl.sendText(msg.to,"Success recover")
#--------------------------------------------------------
	    elif msg.text in ["Remove all chat"]:
		cl.removeAllMessages(op.param2)
		ki.removeAllMessages(op.param2)
		kk.removeAllMessages(op.param2)
		kc.removeAllMessages(op.param2)
		cl.sendText(msg.to,"Removed all chat")
#--------------------------------------------------------
            elif ("Gn: " in msg.text):
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    X.name = msg.text.replace("Gn: ","")
                    cl.updateGroup(X)
                else:
                    cl.sendText(msg.to,"It can't be used besides the group.")
#--------------------------------------------------------
            elif "Kick: " in msg.text:
                midd = msg.text.replace("Kick: ","")
		kicker = [ki,kk,kc]
		if midd not in admin:
		    random.choice(kicker).kickoutFromGroup(msg.to,[midd])
		else:
		    cl.sendText(msg.to,"Admin Detected")
#--------------------------------------------------------
            elif "Invite: " in msg.text:
                midd = msg.text.replace("Invite: ","")
                cl.findAndAddContactsByMid(midd)
                cl.inviteIntoGroup(msg.to,[midd])
#--------------------------------------------------------
            elif msg.text in ["Hello"]:
                gs = cl.getGroup(msg.to)
                ki.sendText(msg.to,"Selamat datang di "+ gs.name)
#--------------------------------------------------------
	    elif "BBc:" in msg.text:
		bc = msg.text.replace("BBc:","")
		gid = cl.getGroupIdsJoined()
		if msg.from_ in admin:
		    for i in gid:
			cl.sendText(i,"=======[HACKBOT]=======\n\n"+bc+"\n\n[SELFBOT PHET HACK BOT]")
		    cl.sendText(msg.to,"Success BC BosQ")
		else:
		    cl.sendText(msg.to,"Khusus Admin")
#--------------------------------------------------------
            elif msg.text in ["Cancelall","à¸¥à¸šà¸£à¸±à¸™"]:
                gid = cl.getGroupIdsInvited()
                for i in gid:
                    cl.rejectGroupInvitation(i)
                cl.sendText(msg.to,"All invitations have been refused")

            elif msg.text in ["Cb1 Cancelall","à¸šà¸­à¸—1 à¸¥à¸šà¸£à¸±à¸™"]:
                gid = ki.getGroupIdsInvited()
                for i in gid:
                    ki.rejectGroupInvitation(i)
                ki.sendText(msg.to,"All invitations have been refused")

            elif msg.text in ["Cb2 Cancelall","à¸šà¸­à¸—2 à¸¥à¸šà¸£à¸±à¸™"]:
                gid = kk.getGroupIdsInvited()
                for i in gid:
                    kk.rejectGroupInvitation(i)
                kk.sendText(msg.to,"All invitations have been refused")

            elif msg.text in ["Cb3 Cancelall","à¸šà¸­à¸—3 à¸¥à¸šà¸£à¸±à¸™"]:
                gid = kc.getGroupIdsInvited()
                for i in gid:
                    kc.rejectGroupInvitation(i)
                kc.sendText(msg.to,"All invitations have been refused")
#--------------------------------------------------------
            elif msg.text in ["Gurl"]:
                if msg.toType == 2:
                    x = cl.getGroup(msg.to)
                    if x.preventJoinByTicket == True:
                        x.preventJoinByTicket = False
                        cl.updateGroup(x)
                    gurl = cl.reissueGroupTicket(msg.to)
                    cl.sendText(msg.to,"line://ti/g/" + gurl)
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Can't be used outside the group")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")
#--------------------------------------------------------
            elif msg.text in ["All join","à¸¡à¸²à¸«à¸³","#phet"]:
		if msg.from_ in admin:
		    G = cl.getGroup(msg.to)
                    ginfo = cl.getGroup(msg.to)
                    G.preventJoinByTicket = False
                    cl.updateGroup(G)
                    invsend = 0
                    Ticket = cl.reissueGroupTicket(msg.to)
                    ki.acceptGroupInvitationByTicket(msg.to,Ticket)
                    time.sleep(0.2)
                    kk.acceptGroupInvitationByTicket(msg.to,Ticket)
                    time.sleep(0.2)
                    kc.acceptGroupInvitationByTicket(msg.to,Ticket)
                    time.sleep(0.2)
                    G = cl.getGroup(msg.to)
                    G.preventJoinByTicket = True
                    ki.updateGroup(G)
                    G.preventJoinByTicket(G)
                    ki.updateGroup(G)
		else:
		    cl.sendText(msg.to,"Sape lu!")

            elif msg.text in ["Pb1 in"]:
		if msg.from_ in admin:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    invsend = 0
                    Ti = cl.reissueGroupTicket(msg.to)
                    ki.acceptGroupInvitationByTicket(msg.to,Ti)
                    G = kk.getGroup(msg.to)
                    G.preventJoinByTicket = True
                    ki.updateGroup(G)
		else:
		    cl.sendText(msg.to,"Sape lu!")

            elif msg.text in ["Pb2 in"]:
		if msg.from_ in admin:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    invsend = 0
                    Ti = cl.reissueGroupTicket(msg.to)
                    kk.acceptGroupInvitationByTicket(msg.to,Ti)
                    G = ki.getGroup(msg.to)
                    G.preventJoinByTicket = True
                    kk.updateGroup(G)
		else:
		    cl.sendText(msg.to,"Sape lu!")

            elif msg.text in ["Pb3 in"]:
		if msg.from_ in admin:
                    G = cl.getGroup(msg.to)
                    ginfo = cl.getGroup(msg.to)
                    G.preventJoinByTicket = False
                    cl.updateGroup(G)
                    invsend = 0
                    Ticket = cl.reissueGroupTicket(msg.to)
                    kc.acceptGroupInvitationByTicket(msg.to,Ticket)
                    G.preventJoinByTicket = True
                    kc.updateGroup(G)
		else:
		    cl.sendText(msg.to,"Sape lu!")

#--------------------------------------------------------
	    elif msg.text in ["Cb Like"]:
		try:
		    print "activity"
		    url = cl.activity(limit=1)
		    print url
		    cl.like(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], likeType=1001)
		    ki.like(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], likeType=1001)
		    kk.like(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], likeType=1001)
		    kc.like(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], likeType=1001)
		    cl.comment(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], "Auto Like")
		    ki.comment(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], "Auto Like")
		    kk.comment(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], "Auto Like")
		    kc.comment(url['result']['posts'][0]['userInfo']['mid'], url['result']['posts'][0]['postInfo']['postId'], "Auto Like")
		    cl.sendText(msg.to, "Success~")
		except Exception as E:
		    try:
			cl.sendText(msg.to,str(E))
		    except:
			pass

#--------------------------------------------------------
            elif msg.text in ["timeline"]:
		try:
                    url = cl.activity(limit=5)
		    cl.sendText(msg.to,url['result']['posts'][0]['postInfo']['postId'])
		except Exception as E:
		    print E
#--------------------------------------------------------
            elif msg.text in ["Bye all","à¸šà¸²à¸¢à¸«à¸³","#bye"]:
		if msg.from_ in admin:
                    ki.leaveGroup(msg.to)
                    kk.leaveGroup(msg.to)
                    kc.leaveGroup(msg.to)
                else:
                    cl.sendText(msg.to,"Lu Sapa!")

            elif msg.text in ["@Byeee"]:
		if msg.from_ in admin:
		    cl.leaveGroup(msg.to)
		else:
		    cl.sendText(msg.to,"Lu Sapa!")
#--------------------------------------------------------
            elif msg.text in ["Absen","#Test"]:
		cl.sendText(msg.to,"Pasukan absen!!")
                ki.sendText(msg.to,"Bot1 Hadiir  \(Ë†â–¿Ë†)/")
                kk.sendText(msg.to,"Bot2 Hadiir  \(Ë†â–¿Ë†)/")
                kc.sendText(msg.to,"Bot3 Hadiir  \(Ë†â–¿Ë†)/")

#--------------------------------------------------------
            elif msg.text in ["Sp","Speed","sp"]:
                start = time.time()
                print("Speed")                
                elapsed_time = time.time() - start
		cl.sendText(msg.to, "Progress...")
                cl.sendText(msg.to, "%sseconds" % (elapsed_time))
            elif msg.text in ["Sp Bot"]:
                start = time.time()
                print("Speed")
                elapsed_time = time.time() - start
                ki.sendText(msg.to, "Progress...")
                ki.sendText(msg.to, "%sseconds" % (elapsed_time))
                kk.sendText(msg.to, "%sseconds" % (elapsed_time))
                kc.sendText(msg.to, "%sseconds" % (elapsed_time))

#--------------------------------------------------------
            elif "Nk: " in msg.text:
		if msg.from_ in admin:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    invsend = 0
                    Ti = cl.reissueGroupTicket(msg.to)
                    kr.acceptGroupInvitationByTicket(msg.to,Ti) #kicker join
                    G = kk.getGroup(msg.to)
                    G.preventJoinByTicket = True
                    kk.updateGroup(G)

                    nk0 = msg.text.replace("Nk: ","")
                    nk1 = nk0.lstrip()
                    nk2 = nk1.replace("@","")
                    nk3 = nk2.rstrip()
                    _name = nk3

                    targets = []
                    for s in X.members:
                        if _name in s.displayName:
                            targets.append(s.mid)
                    if targets == []:
                        sendMessage(msg.to,"user does not exist")
                        pass
                    else:
                        for target in targets:
			    if target not in admin:
                                kr.kickoutFromGroup(msg.to,[target])
                                kr.leaveGroup(msg.to)
                                ki.sendText(msg.to,"Succes BosQ")
                                kk.sendText(msg.to,"Pakyu~")
			    else:
			        cl.sendText(msg.to,"Admin Detected")
		else:
		    cl.sendText(msg.to,"Lu sape!")
#--------------------------------------------------------
            elif msg.text in ["Ban"]:
                wait["wblacklist"] = True
                ki.sendText(msg.to,"send contact")
                kk.sendText(msg.to,"send contact")
                kc.sendText(msg.to,"send contact")

            elif msg.text in ["Unban"]:
                wait["dblacklist"] = True
                ki.sendText(msg.to,"send contact")
                kk.sendText(msg.to,"send contact")
                kc.sendText(msg.to,"send contact")
#--------------------------------------------------------
            elif "Ban @" in msg.text:
                if msg.toType == 2:
                    print "@Ban by mention"
                    _name = msg.text.replace("Ban @","")
                    _nametarget = _name.rstrip('  ')
                    gs = ki.getGroup(msg.to)
                    gs = kk.getGroup(msg.to)
                    gs = kc.getGroup(msg.to)
                    targets = []
                    for g in gs.members:
                        if _nametarget == g.displayName:
                            targets.append(g.mid)
                    if targets == []:
                        ki.sendText(msg.to,"Not found")
                        kk.sendText(msg.to,"Not found")
                        kc.sendText(msg.to,"Not found")
                    else:
                        for target in targets:
			    if target not in admin:
                                try:
                                    wait["blacklist"][target] = True
                                    f=codecs.open('st2__b.json','w','utf-8')
                                    json.dump(wait["blacklist"], f, sort_keys=True, indent=4,ensure_ascii=False)
                                    ki.sendText(msg.to,"Succes BosQ")
                                    kk.sendText(msg.to,"Succes BosQ")
                                    kc.sendText(msg.to,"Succes BosQ")
                                except:
                                    ki.sendText(msg.to,"Error")
                                    kk.sendText(msg.to,"Error")
                                    kc.sendText(msg.to,"Error")
			    else:
				cl.sendText(msg.to,"Admin Detected~")
#--------------------------------------------------------
            elif msg.text in ["Banlist"]:
                if wait["blacklist"] == {}:
                    ki.sendText(msg.to,"nothing")
                    kk.sendText(msg.to,"nothing")
                    kc.sendText(msg.to,"nothing")
                else:
                    mc = ""
                    for mi_d in wait["blacklist"]:
                        mc += "->" +cl.getContact(mi_d).displayName + "\n"
                    ki.sendText(msg.to,"===[Blacklist User]===\n"+mc)

#--------------------------------------------------------
            elif "Unban @" in msg.text:
                if msg.toType == 2:
                    print "@Unban by mention"
                    _name = msg.text.replace("Unban @","")
                    _nametarget = _name.rstrip('  ')
                    gs = ki.getGroup(msg.to)
                    gs = kk.getGroup(msg.to)
                    gs = kc.getGroup(msg.to)
                    targets = []
                    for g in gs.members:
                        if _nametarget == g.displayName:
                            targets.append(g.mid)
                    if targets == []:
                        ki.sendText(msg.to,"Not found")
                        kk.sendText(msg.to,"Not found")
                        kc.sendText(msg.to,"Not found")
                    else:
                        for target in targets:
                            try:
                                del wait["blacklist"][target]
                                f=codecs.open('st2__b.json','w','utf-8')
                                json.dump(wait["blacklist"], f, sort_keys=True, indent=4,ensure_ascii=False)
                                ki.sendText(msg.to,"Succes BosQ")
                                kk.sendText(msg.to,"Succes BosQ")
                                kc.sendText(msg.to,"Succes BosQ")
                            except:
                                ki.sendText(msg.to,"Succes BosQ")
                                kk.sendText(msg.to,"Succes BosQ")
                                kc.sendText(msg.to,"Succes BosQ")
#--------------------------------------------------------
            elif msg.text in ["Kill ban"]:
		if msg.from_ in admin:
                    if msg.toType == 2:
                        group = cl.getGroup(msg.to)
                        gMembMids = [contact.mid for contact in group.members]
                        matched_list = []
                        for tag in wait["blacklist"]:
                            matched_list+=filter(lambda str: str == tag, gMembMids)
                        if matched_list == []:
                            ki.sendText(msg.to,"There was no blacklist user")
                            kk.sendText(msg.to,"There was no blacklist user")
                            kc.sendText(msg.to,"There was no blacklist user")
                            return
                        for jj in matched_list:
                            random.choice(KAC).kickoutFromGroup(msg.to,[jj])
                        ki.sendText(msg.to,"Blacklist emang pantas tuk di usir")
                        kk.sendText(msg.to,"Blacklist emang pantas tuk di usir")
                        kc.sendText(msg.to,"Blacklist emang pantas tuk di usir")
		else:
		    cl.sendText(msg.to, "Khusus creator")
            elif "Mid:" in msg.text:
                mmid = msg.text.replace("Mid:","")
                msg.contentType = 13
                msg.contentMetadata = {"mid":mmid}
                cl.sendMessage(msg)

            elif "Me5" == msg.text:
                msg.contentType = 13
                msg.contentMetadata = {'mid': mid}
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
            elif "Me10" == msg.text:
                msg.contentType = 13
                msg.contentMetadata = {'mid': mid}
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
            elif "Me20" == msg.text:
                msg.contentType = 13
                msg.contentMetadata = {'mid': mid}
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)
                cl.sendMessage(msg)


            elif msg.text.lower() == 'wcginfo':
                ginfo = cl.getGroup(msg.to)
                try:
                    gCreator = ginfo.creator.displayName
                except:
                    gCreator = "Error"
                if wait["lang"] == "JP":
                    if ginfo.invitee is None:
                        sinvitee = "0"
                    else:
                        sinvitee = str(len(ginfo.invitee))
                msg.contentType = 13
                msg.contentMetadata = {'mid': ginfo.creator.mid}
                cl.sendText(msg.to,"[Nama]\n" + str(ginfo.name) + "\n[Group Id]\n" + msg.to + "\n\n[Group Creator]\n" + gCreator + "\n\nAnggota:" + str(len(ginfo.members)) + "\nInvitation:" + sinvitee + "")
                cl.sendMessage(msg)


            elif "Spam " in msg.text:
                if msg.from_ in admin:
                   txt = msg.text.split(" ")
                   jmlh = int(txt[2])
                   teks = msg.text.replace("Spam "+str(txt[1])+" "+str(jmlh)+ " ","")
                   tulisan = jmlh * (teks+"\n")
                   #Keke cantik <3
                   if txt[1] == "on":
                        if jmlh <= 10000:
                             for x in range(jmlh):
                                   cl.sendText(msg.to, teks)
                        else:
                               cl.sendText(msg.to, "Out of range! ")
                   elif txt[1] == "off":
                         if jmlh <= 10000:
                               cl.sendText(msg.to, tulisan)
                         else:
                               cl.sendText(msg.to, "Out of range! ")

            elif "Hack2" in msg.text:
                key = eval(msg.contentMetadata["MENTION"])
                key1 = key["MENTIONEES"][0]["M"]
                contact = cl.getContact(key1)
                cu = cl.channel.getCover(key1)
                try:
                    cl.sendText(msg.to,"[name]\n" + contact.displayName + "\n[mid]\n" + contact.mid + "\n[statusmessage]\n" + contact.statusMessage + "\n[profilePicture]\nhttp://dl.profile.line-cdn.net/" + contact.pictureStatus + "\n[homePicture]\n" + str(cu))
                except:
                    cl.sendText(msg.to,"[name]\n" + contact.displayName + "\n[mid]\n" + contact.mid + "\n[statusmessage]\n" + contact.statusMessage + "\n[homePicture]\n" + str(cu))

            if msg.text.lower() in ["Phet Tag All"]:
                group = cl.getGroup(msg.to)
                nama = [contact.mid for contact in group.members]
                nm1, nm2, nm3, nm4, nm5, jml = [], [], [], [], [], len(nama)
                if jml <= 100:
                    mention(msg.to, nama)
                    if jml > 100 and jml < 200:
                        for i in range(0, 100):
                            nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, len(nama)):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                if jml > 200 and jml < 300:
                    for i in range(0, 100):
                        nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, 200):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                    for k in range(201, len(nama)):
                        nm3 += [nama[k]]
                    mention(msg.to, nm3)
                if jml > 300 and jml < 400:
                    for i in range(0, 100):
                        nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, 200):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                    for k in range(201, 300):
                        nm3 += [nama[k]]
                    mention(msg.to, nm3)
                    for l in range(301, len(nama)):
                        nm4 += [nama[l]]
                    mention(msg.to, nm4)
                if jml > 400 and jml < 500:
                    for i in range(0, 100):
                        nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, 200):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                    for k in range(201, 300):
                        nm3 += [nama[k]]
                    mention(msg.to, nm3)
                    for l in range(301, 400):
                        nm4 += [nama[l]]
                    mention(msg.to, nm4)
                    for h in range(401, len(nama)):
                        nm5 += [nama[h]]
                    mention(msg.to, nm5)
                if jml > 500:
                    cl.sendText(msg.to,'Member melebihi batas.')
                cnt = Message()
                cnt.text = "Done : " + str(jml) +  " Members"
                cnt.to = msg.to
                cl.sendMessage(cnt)
            elif "Keyy" in msg.text:
                cl.sendText(msg.to,"""[SELFBOT PHET HACK BOT]\n\n
Set up protection within groups.

Protect on/off
Namelock on/off
Blockinvite on/off
protect url on/off
Auto kick on/off
Do not think I will try.
""")

            elif "#V10" in msg.text:
                cl.sendText(msg.to,"""[SELFBOT PHET HACK BOT]\n\n
Phet Tema Hack Bot
à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸šà¸­à¸—Â siri
à¸„à¸³à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸à¸²à¸£à¸¥à¹‡à¸­à¸à¸«à¹‰à¸­à¸‡à¸ªà¸±à¹ˆà¸‡à¹à¸¥à¹‰à¸§à¸—à¸¸à¸à¸„à¸™à¸ˆà¸°à¸—à¸³à¸­à¸°à¹„à¸£à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸™à¸­à¸à¸ˆà¸²à¸à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸«à¹‰à¸­à¸‡à¸—à¸³à¹„à¸”à¹‰à¸„à¸™à¹€à¸”à¸µà¸¢à¸§à¹€à¸Šà¹ˆà¸™â€¢à¹€à¸›à¸´à¸”à¸¥à¸´à¸‡à¸„à¹Œâ€¢à¹€à¸Šà¸´à¸à¹€à¸žà¸·à¹ˆà¸­à¸™â€¢à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸£à¸¹à¸›à¸à¸¥à¸¸à¹ˆà¸¡â€¢à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¸à¸¥à¸¸à¹ˆà¸¡à¹„à¸£à¹à¸šà¸šà¸™à¸µà¹‰â€¢ à¸šà¸­à¸—à¸ˆà¸°à¹„à¸¡à¹ˆà¹€à¸•à¸°à¹€à¹€à¸­à¸—à¸¡à¸´à¸™à¸—à¸¸à¸à¸à¸£à¸“à¸µ
à¸¡à¸µà¸•à¸±à¹‰à¸‡à¹€à¹€à¸•à¹ˆà¸Šà¸¸à¸”à¸šà¸­à¸— 12-37 à¸šà¸­à¸—
à¸Šà¸¸à¸”à¸¥à¹Šà¸­à¸à¸«à¹‰à¸­à¸‡
à¸¥à¹Šà¸­à¸à¸à¸±à¸™à¸£à¸±à¸™à¸ªà¸•à¸´à¹Šà¸à¹€à¸à¸­à¸£à¹Œ
Set:StampLimitation:on

à¸¥à¹Šà¸­à¸à¸Šà¸·à¹ˆà¸­à¸à¸¥à¸¸à¹ˆà¸¡
Set:changenamelock:on

à¸¥à¹Šà¸­à¸à¸à¸²à¸£à¹€à¸Šà¸´à¸à¸‚à¸­à¸‡à¸ªà¸¡à¸²à¸Šà¸´à¸
Set:blockinvite:on

à¸¥à¹Šà¸­à¸à¹à¸­à¸—à¸¡à¸´à¸™à¸à¸¥à¸¸à¹ˆà¸¡
Set:ownerlock:on

à¸¥à¹Šà¸­à¸à¸£à¸¹à¸›à¸à¸¥à¸¸à¹ˆà¸¡
Set:iconlock:on

âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

set:changeowner
à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸«à¹‰à¸­à¸‡à¸ªà¸±à¹ˆà¸‡à¹à¸¥à¹‰à¸§à¸ªà¹ˆà¸‡à¸„à¸­à¸¥à¹à¸—à¸„à¸„à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¹€à¸›à¹‡à¸™à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸«à¹‰à¸­à¸‡à¸„à¸™à¸•à¹ˆà¸­à¹„à¸›à¸¥à¸‡à¹ƒà¸™à¸à¸¥à¸¸à¹ˆà¸¡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

set:addblacklist
à¸šà¸±à¸à¸Šà¸µà¸”à¸³à¹à¸šà¹‡à¸„à¸¥à¸´à¸ªà¸„à¸™à¹„à¸¡à¹ˆà¹ƒà¸«à¹‰à¹€à¸‚à¹‰à¸²à¸à¸¥à¸¸à¹ˆà¸¡à¸ªà¸±à¹ˆà¸‡à¹à¸¥à¹‰à¸§à¸ªà¹ˆà¸‡à¸„à¸­à¸¥à¹à¸—à¸„à¸„à¸™à¸—à¸µà¹ˆà¹€à¸£à¸²à¸ˆà¸°à¹à¸šà¹‡à¸„à¸¥à¸´à¸ªà¸¥à¸‡à¹ƒà¸™à¸à¸¥à¸¸à¹ˆà¸¡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

set:addwhitelist
à¸šà¸±à¸à¸Šà¸µà¸‚à¸²à¸§à¹à¸à¹‰à¸”à¸³à¸ªà¸±à¹ˆà¸‡à¹à¸¥à¹‰à¸§à¸ªà¹ˆà¸‡à¸„à¸­à¸¥à¹à¸—à¸„à¸„à¸™à¸—à¸µà¹ˆà¹€à¸£à¸²à¸ˆà¸°à¹à¸à¹‰à¹à¸šà¹Šà¸„à¸¥à¸´à¸ªà¸¥à¸‡à¹ƒà¸™à¸à¸¥à¸¸à¹ˆà¸¡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

Set:blockinvite:offÂ  à¸›à¸¥à¸”à¸¥à¹‡à¸­à¸à¸à¸²à¸£à¹€à¸Šà¸´à¸
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
Set:blockinvite:onÂ  à¸¥à¹‡à¸­à¸à¸à¸²à¸£à¹€à¸Šà¸´à¸
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
Siri:inviteurlÂ Â Â Â Â Â Â Â  à¹€à¸›à¸´à¸”à¸¥à¸´à¸‡à¸„à¹Œ
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
Siri:DenyURLInviteÂ  à¸›à¸´à¸”à¸¥à¸´à¸‡à¸„à¹Œ
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
Siri:cancelinviteÂ  à¸¢à¸à¹€à¸¥à¸´à¸à¸„à¹‰à¸²à¸‡à¹€à¸Šà¸´à¸à¸ªà¸±à¹ˆà¸‡2à¸„à¸£à¸±à¹‰à¸‡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
Siri:groupcreator à¹€à¸Šà¹‡à¸„à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸šà¹‰à¸²à¸™à¸•à¸±à¸§à¸ˆà¸£à¸´à¸‡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
Siri:extracreatorÂ  à¹€à¸Šà¹‡à¸„à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸šà¹‰à¸²à¸™à¸„à¸™à¸ªà¸³à¸£à¸­à¸‡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

set:changeextraowner 
à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸šà¹‰à¸²à¸™à¸„à¸™à¸—à¸µ2à¸«à¸£à¸·à¸­à¹€à¸£à¸µà¸¢à¸à¸„à¸™à¸ªà¸³à¸£à¸­à¸‡à¸ªà¸±à¹ˆà¸‡à¹à¸¥à¹‰à¸§à¸ªà¹ˆà¸‡à¸„à¸­à¸¥à¹à¸—à¸„à¸„à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¹€à¸›à¹‡à¸™à¸„à¸™à¸ªà¸³à¸£à¸­à¸‡à¸¥à¸‡à¹ƒà¸™à¸à¸¥à¸¸à¹ˆà¸¡

âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

Set:turncreator

à¸ªà¸¥à¸±à¸šà¹ƒà¸«à¹‰à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸šà¹‰à¸²à¸™à¸„à¸™à¸—à¸µà¹ˆ2à¹€à¸›à¹‡à¸™à¸•à¸±à¸§à¸ˆà¸£à¸´à¸‡
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

à¸”à¸¹à¸„à¸™à¸­à¹ˆà¸²à¸™

à¸ªà¸±à¹ˆà¸‡à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¹ˆà¸­à¸™à¹à¸¥à¹‰à¸§à¸„à¹ˆà¸­à¸¢à¸ªà¸±à¹ˆà¸‡à¸­à¹ˆà¸²à¸™à¸„à¸™

SetlastpointÂ Â Â Â  à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²

ViewlastseenÂ Â  à¸ªà¸±à¹ˆà¸‡à¸­à¹ˆà¸²à¸™
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–

à¸ªà¸™à¹ƒà¸ˆà¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¹ˆ
http://line.me/ti/p/09T2waRE7l
à¹€à¸žà¸Šà¸£à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—
âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–âž–
""")

            elif ("PK " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           cl.kickoutFromGroup(msg.to,[target])
                       except:
                           cl.sendText(msg.to,"Error(ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)")
            elif ("1PK " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           ki.kickoutFromGroup(msg.to,[target])
                       except:
                           ki.sendText(msg.to,"Error(ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)")
            elif ("2PK " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           kk.kickoutFromGroup(msg.to,[target])
                       except:
                           kk.sendText(msg.to,"Error(ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)")
            elif ("3PK " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           kc.kickoutFromGroup(msg.to,[target])
                       except:
                           kc.sendText(msg.to,"Error(ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)")

#--------------------------------------------------------
            elif msg.text in ["Kill"]:
		if msg.from_ in admin:
                    if msg.toType == 2:
                        group = ki.getGroup(msg.to)
                        gMembMids = [contact.mid for contact in group.members]
                        matched_list = []
                        for tag in wait["blacklist"]:
                            matched_list+=filter(lambda str: str == tag, gMembMids)
                        if matched_list == []:
                            kk.sendText(msg.to,"Fuck You")
                            kc.sendText(msg.to,"Fuck You")
                            return
                        for jj in matched_list:
                            try:
                                klist=[ki,kk,kc]
                                kicker=random.choice(klist)
                                kicker.kickoutFromGroup(msg.to,[jj])
                                print (msg.to,[jj])
                            except:
                                pass

#--------------------------------------------------------
            elif "Buldozer" == msg.text:
		if msg.from_ in admin:
                    if msg.toType == 2:
                        print "Kick all member"
                        _name = msg.text.replace("Buldozer","")
                        gs = ki.getGroup(msg.to)
                        gs = kk.getGroup(msg.to)
                        gs = kc.getGroup(msg.to)
                        ki.sendText(msg.to,"Sampai jumpaa~")
                        kc.sendText(msg.to,"Dadaaah~")
                        targets = []
                        for g in gs.members:
                            if _name in g.displayName:
                                targets.append(g.mid)
                        if targets == []:
                            ki.sendText(msg.to,"Not found.")
                            kk.sendText(msg.to,"Not found.")
                            kc.sendText(msg.to,"Not found.")
                        else:
                            for target in targets:
				if target not in admin:
                                    try:
                                        klist=[ki,kk,kc]
                                        kicker=random.choice(klist)
                                        kicker.kickoutFromGroup(msg.to,[target])
                                        print (msg.to,[g.mid])
                                    except Exception as e:
                                        cl.sendText(msg.to,str(e))
			    cl.inviteIntoGroup(msg.to, targets)
#--------------------------------------------------------
#Restart_Program
	    elif msg.text in ["Bot:restart"]:
		if msg.from_ in Creator:
		    cl.sendText(msg.to, "Bot has been restarted")
		    restart_program()
		    print "@Restart"
		else:
		    cl.sendText(msg.to, "No Access")
#--------------------------------------------------------



        if op.type == 59:
            print op


    except Exception as error:
        print error


#thread2 = threading.Thread(target=nameUpdate)
#thread2.daemon = True
#thread2.start()

while True:
    try:
        Ops = cl.fetchOps(cl.Poll.rev, 5)
    except EOFError:
        raise Exception("It might be wrong revision\n" + str(cl.Poll.rev))

    for Op in Ops:
        if (Op.type != OpType.END_OF_OPERATION):
            cl.Poll.rev = max(cl.Poll.rev, Op.revision)
            bot(Op)

